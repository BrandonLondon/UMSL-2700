LOAD 0
PUSH
STORE COUNT
STORE TOTAL
LOOP1:
READ X
COPY Z X
LOAD Z
ADD 1
BRZERO LOOP2

LOAD COUNT
ADD 1
STORE COUNT
COPY Z X
LOAD Z
PUSH Z
STACKW 0
BRNEG NEG
BRPOS POS

POS:
SUB 9
BRZNEG SUM
BRPOS PROD

NEG:
ADD 9
BRZPOS SUM
BRNEG PROD

PROD:
LOAD Z
LOAD TOTAL
MULT Z
STORE TOTAL
BR LOOP1

SUM:
LOAD Z
LOAD TOTAL
ADD Z
STORE TOTAL
BR LOOP1

LOOP2:
STACKR O
STORE Z
WRITE Z
POP
LOAD COUNT
SUB 1
BRZNEG EXIT
STORE COUNT
BRLOOP2

EXIT:
LOAD TOTAL
STORE Z
WRITE Z
STOP
X 0
Z 0
COUNT 0
TOTAL 0


